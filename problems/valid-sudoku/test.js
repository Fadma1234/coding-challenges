const Solution = require('./solution');

describe('Valid Sudoku', () => {
  let solution;

  beforeEach(() => {
    solution = new Solution();
  });

  test('Example 1: valid board', () => {
    const board = [
      ['1','2','.','.','3','.','.','.','.'],
      ['4','.','.','5','.','.','.','.','.'],
      ['.','9','8','.','.','.','.','.','3'],
      ['5','.','.','.','6','.','.','.','4'],
      ['.','.','.','8','.','3','.','.','5'],
      ['7','.','.','.','2','.','.','.','6'],
      ['.','.','.','.','.','.','2','.','.'],
      ['.','.','.','4','1','9','.','.','8'],
      ['.','.','.','.','8','.','.','7','9']
    ];

    const result = solution.isValidSudoku(board);
    expect(result).toBe(true);
  });

  test('Example 2: invalid board (duplicate in box)', () => {
    const board = [
      ['1','2','.','.','3','.','.','.','.'],
      ['4','.','.','5','.','.','.','.','.'],
      ['.','9','1','.','.','.','.','.','3'],
      ['5','.','.','.','6','.','.','.','4'],
      ['.','.','.','8','.','3','.','.','5'],
      ['7','.','.','.','2','.','.','.','6'],
      ['.','.','.','.','.','.','2','.','.'],
      ['.','.','.','4','1','9','.','.','8'],
      ['.','.','.','.','8','.','.','7','9']
    ];

    const result = solution.isValidSudoku(board);
    expect(result).toBe(false);
  });
});
const isValidSudoku = require('./solution');

describe('Valid Sudoku', () => {
    it('should return true for valid sudoku board (Example 1)', () => {
        const board = [
            ["1","2",".",".","3",".",".",".","."],
            ["4",".",".","5",".",".",".",".","."],
            [".","9","8",".",".",".",".",".","3"],
            ["5",".",".",".","6",".",".",".","4"],
            [".",".",".","8",".","3",".",".","5"],
            ["7",".",".",".","2",".",".",".","6"],
            [".",".",".",".",".",".","2",".","."],
            [".",".",".","4","1","9",".",".","8"],
            [".",".",".",".","8",".",".","7","9"]
        ];
        expect(isValidSudoku(board)).toBe(true);
    });

    it('should return false for invalid sudoku board with duplicate in 3x3 box (Example 2)', () => {
        const board = [
            ["1","2",".",".","3",".",".",".","."],
            ["4",".",".","5",".",".",".",".","."],
            [".","9","1",".",".",".",".",".","3"],
            ["5",".",".",".","6",".",".",".","4"],
            [".",".",".","8",".","3",".",".","5"],
            ["7",".",".",".","2",".",".",".","6"],
            [".",".",".",".",".",".","2",".","."],
            [".",".",".","4","1","9",".",".","8"],
            [".",".",".",".","8",".",".","7","9"]
        ];
        expect(isValidSudoku(board)).toBe(false);
    });

    it('should return false for duplicate in row', () => {
        const board = [
            ["1","1",".",".","3",".",".",".","."],
            ["4",".",".","5",".",".",".",".","."],
            [".","9","8",".",".",".",".",".","3"],
            ["5",".",".",".","6",".",".",".","4"],
            [".",".",".","8",".","3",".",".","5"],
            ["7",".",".",".","2",".",".",".","6"],
            [".",".",".",".",".",".","2",".","."],
            [".",".",".","4","1","9",".",".","8"],
            [".",".",".",".","8",".",".","7","9"]
        ];
        expect(isValidSudoku(board)).toBe(false);
    });

    it('should return false for duplicate in column', () => {
        const board = [
            ["1","2",".",".","3",".",".",".","."],
            ["1",".",".","5",".",".",".",".","."],
            [".","9","8",".",".",".",".",".","3"],
            ["5",".",".",".","6",".",".",".","4"],
            [".",".",".","8",".","3",".",".","5"],
            ["7",".",".",".","2",".",".",".","6"],
            [".",".",".",".",".",".","2",".","."],
            [".",".",".","4","1","9",".",".","8"],
            [".",".",".",".","8",".",".","7","9"]
        ];
        expect(isValidSudoku(board)).toBe(false);
    });

    it('should return true for board with only dots (valid empty board)', () => {
        const board = [
            [".",".",".",".",".",".",".",".",".",],
            [".",".",".",".",".",".",".",".",".",],
            [".",".",".",".",".",".",".",".",".",],
            [".",".",".",".",".",".",".",".",".",],
            [".",".",".",".",".",".",".",".",".",],
            [".",".",".",".",".",".",".",".",".",],
            [".",".",".",".",".",".",".",".",".",],
            [".",".",".",".",".",".",".",".",".",],
            [".",".",".",".",".",".",".",".",".",]
        ];
        expect(isValidSudoku(board)).toBe(true);
    });
});
